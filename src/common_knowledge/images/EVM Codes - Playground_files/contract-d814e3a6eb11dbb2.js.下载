(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[610],{69264:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var s=r(3610),n=r.n(s),o=r(70416),a=r(79617),i=r(48004),l=r(57410);var c=()=>(0,l.jsx)("footer",{className:"border-t border-gray-100 dark:border-black-600 py-4",children:(0,l.jsx)(i.W,{children:(0,l.jsxs)("div",{className:"flex justify-between text-tiny text-gray-500 items-start",children:[(0,l.jsxs)("div",{className:"flex flex-col md:flex-row leading-6",children:[(0,l.jsxs)("span",{children:["Brought to you by"," ",(0,l.jsx)("a",{className:"underline font-medium",href:"https://smlxl.io",target:"_blank",rel:"noreferrer",children:"smlXL, Inc"}),"."]}),(0,l.jsxs)("span",{className:"md:mx-2",children:["Powered by"," ",(0,l.jsx)("a",{className:"underline font-medium",href:"https://github.com/ethereumjs/ethereumjs-monorepo",target:"_blank",rel:"noreferrer",children:"EthereumJS"})," ","and"," ",(0,l.jsx)("a",{className:"underline font-medium",href:"https://github.com/ethereum/solc-js",target:"_blank",rel:"noreferrer",children:"SolcJS"}),"."]})]}),(0,l.jsx)("div",{children:(0,l.jsx)("a",{className:"underline",href:a.Vh,target:"_blank",rel:"noreferrer",children:"GitHub"})})]})})}),d=r(36765),u=r(73752),p=r.n(u),h=r(41262),m=r.n(h),f=r(76747),x=r(79176);var g=()=>{const{query:e}=(0,f.useKBar)();return(0,l.jsxs)(x.zx,{size:"xs",onClick:e.toggle,className:"mx-4 py-1 px-2 font-medium",transparent:!0,outline:!0,padded:!1,children:[o.V&&(0,l.jsx)(x.JO,{name:"command-line",className:"mr-1"}),o.V?(0,l.jsx)("span",{children:"K"}):(0,l.jsx)("span",{children:"Ctrl + K"})]})};var y=e=>{let{href:t,children:r,className:s,external:n=!1}=e;return(0,l.jsx)("li",{className:p()("inline-block mx-4 text-sm my-2 md:my-0 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",s),children:(0,l.jsx)(m(),{legacyBehavior:!0,href:t,passHref:n,children:(0,l.jsx)("a",{target:n?"_blank":"_self",children:r})})})},b=r(11495);var v=()=>{const{theme:e,setTheme:t,resolvedTheme:r}=(0,b.F)(),s=[{id:"theme",name:"Select theme\u2026",shortcut:["t"],keywords:"theme appearance",section:"Preferences"},{id:"theme-light",name:"Light",shortcut:[],keywords:"light",section:"",perform:()=>t("light"),parent:"theme"},{id:"theme-dark",name:"Dark",shortcut:[],keywords:"dark",section:"",perform:()=>t("dark"),parent:"theme"},{id:"theme-system",name:"System",shortcut:[],keywords:"system",section:"",perform:()=>t("system"),parent:"theme"}];(0,f.useRegisterActions)(s,[s]);return(0,l.jsx)(x.zx,{transparent:!0,onClick:()=>{t("dark"===e?"light":"dark")},children:(0,l.jsx)(x.JO,{name:"dark"===r?"contrast-2-fill":"contrast-2-line",className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"})})},j=r(70129),O=r(29713),w=r(43836),k=r(12038),N=r(9815),S=r(86569);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const I=e=>{const{data:t,label:r}=e,s=t.value===a.h_;return(0,l.jsxs)(w.c.Option,P(P({},e),{},{children:[r,s&&(0,l.jsx)(x.__,{children:"Live"})]}))};var D=()=>{const{forks:e,selectedFork:t,onForkChange:r}=(0,d.useContext)(N.DB),{0:s,1:n}=(0,d.useState)(),{0:o,1:i}=(0,d.useState)([]),c=(0,O.useRouter)(),u=(0,d.useMemo)((()=>e.map((e=>({value:e.name,label:e.name})))),[e]),p=(0,d.useMemo)((()=>u.find((e=>e.value===(null===t||void 0===t?void 0:t.name)))),[u,t]),h=(0,d.useCallback)((e=>{n(e),r(e.value),c.query.fork=e.value,c.push({query:c.query})}),[r]);return(0,d.useEffect)((()=>{if(!c.isReady)return;const e=c.query.fork?u.find((e=>e.value===c.query.fork)):u.find((e=>e.value===a.h_));e&&n(e)}),[c.isReady,p]),(0,d.useEffect)((()=>{const e=[],t=u.map(((t,r)=>{const s=(0,S.GT)("fork",r);return e.push(s),{id:s,name:t.label,shortcut:[],keywords:t.label,section:"",perform:()=>h(t),parent:"fork"}}));e.length>0&&i([{id:"fork",name:"Select hardfork\u2026",shortcut:["f"],keywords:"fork network evm",section:"Preferences"},...t])}),[u,h]),(0,f.useRegisterActions)(o,[o]),(0,l.jsx)("div",{className:"flex justify-end items-center rounded",children:e.length>0&&(0,l.jsxs)("div",{className:"flex items-center mr-2",children:[(0,l.jsx)(x.JO,{name:"git-branch-line",className:"text-indigo-500 mr-2"}),(0,l.jsx)(k.ZP,{onChange:h,options:u,value:s,isSearchable:!1,classNamePrefix:"select",menuPlacement:"auto",components:{Option:I}})]})})};var _=()=>{const{0:e,1:t}=(0,d.useState)(!1);return(0,l.jsx)("nav",{className:"fixed z-40 top-0 inset-x-0 py-2 bg-white dark:bg-black-800",children:(0,l.jsx)(x.W2,{children:(0,l.jsxs)("div",{className:"h-10 flex items-center justify-between",children:[(0,l.jsx)(m(),{legacyBehavior:!0,href:"/",passHref:!0,children:(0,l.jsx)("a",{children:(0,l.jsx)(x.TR,{})})}),(0,l.jsxs)("ul",{className:p()("py-2 md:py-0 px-2 flex justify-between items-start md:items-center flex-col md:flex-row w-full md:w-auto fixed md:static shadow-md md:shadow-none transition-all",{"left-0 bg-white dark:bg-black-800 md:bg-transparent dark:md:bg-transparent":e,"-left-full":!e}),style:{top:56},children:[(0,l.jsx)(y,{href:"/",children:"Opcodes"}),(0,l.jsx)(y,{href:"/precompiled",children:"Precompiled Contracts"}),(0,l.jsx)(y,{href:"/contract",children:"Contract Viewer"}),(0,l.jsx)(y,{href:"/playground",children:"Playground"}),(0,l.jsx)(y,{href:"/about",children:"About the EVM"}),(0,l.jsx)(y,{href:a.Vh,external:!0,children:"GitHub"}),(0,l.jsx)("li",{className:"hidden lg:inline-block",children:(0,l.jsx)(g,{})})]}),(0,l.jsxs)("div",{className:"items-center ml-auto flex",children:[(0,l.jsx)(D,{}),(0,l.jsx)(v,{})]}),(0,l.jsx)(x.pr,{isActive:e,onClick:()=>t(!e)})]})})})};var E=e=>{let{children:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:"EVM Codes - An Ethereum Virtual Machine Opcodes Interactive Reference"}),(0,l.jsx)("meta",{property:"og:type",content:"website"}),(0,l.jsx)("meta",{property:"og:title",content:"EVM Codes"}),(0,l.jsx)("meta",{property:"og:description",content:"An Ethereum Virtual Machine Opcodes Interactive Reference"}),(0,l.jsx)("meta",{property:"og:image",content:`${(0,o.C)("/og.png")}`}),(0,l.jsx)("meta",{property:"og:url",content:(0,o.C)()}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsxs)("div",{className:"flex flex-col h-screen justify-between",children:[(0,l.jsx)(_,{}),(0,l.jsx)("main",{className:"mb-auto mt-20 md:mt-28 pb-10",children:t}),(0,l.jsx)(c,{})]})]})}},5015:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Fe}});var s=r(3610),n=r.n(s),o=r(36765),a=r(84360),i=r(42582),l=r(20456),c=r(29713),d=r(70129),u=r(2124),p=r(86259),h=r(93465),m=r(63765),f=r(57410);const x=["id","className"],g=["id","className"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,m.m6)((0,p.W)(t))}const j=e=>{let{id:t,className:r}=e,s=(0,u.Z)(e,x);return(0,f.jsx)(h.eh,b({className:v("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",r),id:t},s))},O=h.s_,w=e=>{let{id:t,className:r}=e,s=(0,u.Z)(e,g);return(0,f.jsx)(h.OT,b({className:v("relative flex w-px border-t-2 border-l-2 items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",r),id:t},s))};var k=r(85557),N=r(11495);const S=["code","line","column"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=e=>{let{code:t,line:r,column:s}=e,n=(0,u.Z)(e,S);const{0:a,1:i}=(0,o.useState)(null),{resolvedTheme:l}=(0,N.F)();return(0,o.useEffect)((()=>{a&&r&&s&&(a.setPosition({lineNumber:r,column:s}),a.revealLineInCenter(r))}),[r,s,a]),(0,f.jsx)("div",{className:"h-full",children:(0,f.jsx)(k.ZP,P({defaultLanguage:"sol",theme:"dark"==l?"vs-dark":"vs-light",onMount:e=>{e&&(i(e),e.updateOptions({glyphMargin:!1,folding:!0,readOnly:!0}))},value:t},n))})},D=r(22074),_=r(27887),E=r(75938),A=r(78956),Z=r(37843),T=r(10146),z=r(49162),R=r(2656),B=r(88157),L=r(21645),$=r(18686),M=r(49119),V=r(79176),J=r(6523),F=r.n(J),q=r(18555),W=r.n(q);function K(e,t){if(!t)return e;for(const r of t)e.startsWith(r[0])&&(e=r[1]+e.slice(r[0].length,e.length));return e}function X(e){if(e.sources){var t;const r=((null===(t=e.settings)||void 0===t?void 0:t.remappings)||[]).map((e=>e.split("=")));return[e.sources,r]}return[e,null]}function H(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const a=[];let i="";const[l,c]=X(e),d=K(t,c);if(!l[d])throw console.warn("stdJson:",e),"source not found: "+d;let u=l[d].content;s&&(u=u.replace(/^pragma solidity.*$\s*/gm,"").replace(/^\s*\/\/\s*SPDX.*$|^\s*\*\s*SPDX.*$/gm,""));const p=F().parse(u,{loc:!0,range:!0}),h=W().dirname(d);F().visit(p,{ImportDirective:e=>{a.push(e)}});let m=0;for(const f of a){const t="."==f.path[0]?W().join(h,f.path):f.path,s=W().normalize(t).replaceAll("\\","/"),a=K(s,c);let l="";if(i+=u.slice(m,f.range[0]).trim()+"\n",!n.includes(a)){const t=o+i.split("\n").length;n.push(a),l=H(e,s,r,!0,n,t)}i+=l.trim()+"\n",m=f.range[1]+1}return i+=u.slice(m,u.length).trim()+"\n",i}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Y=new class{constructor(){var e;(0,d.Z)(this,"worker",void 0),(0,d.Z)(this,"callbacks",{}),this.worker=new Worker("/solcWorker.js"),this.callbacks={},null===(e=this.worker)||void 0===e||e.addEventListener("message",this.onCompilationResult.bind(this))}onCompilationResult(e){const{data:t}=e,r=this.callbacks[t.jobId];r?(delete this.callbacks[t.jobId],r(t)):console.warn("no callback for job",e)}compile(e,t){return new Promise(((r,s)=>{var n;const o="jobId_"+Math.random();this.callbacks[o]=r,setTimeout((()=>{this.callbacks[o]&&(delete this.callbacks[o],s("compilation timeout"))}),3e5),null===(n=this.worker)||void 0===n||n.postMessage({jobId:o,version:t,stdJson:e})}))}compileCode(e,t,r){if("string"==typeof e){const s={language:"Solidity",sources:{"main.sol":{content:e}},settings:r};return this.compile(s,t)}{const s=U(U({},e),{},{settings:r});return this.compile(s,t)}}};class Q{static async loadFromEtherscan(e){return function(e){if("OK"!==e.message)throw"etherscan response is not OK";if(!e.result||0==e.result.length)throw"etherscan returned empty result";const t=e.result[0];if("string"==typeof t)throw"etherscan response malformed";const r=t.SourceCode.toString();return r.startsWith("{{")?t.SourceCode=JSON.parse(r.slice(1,-1)):r.startsWith("{")?t.SourceCode=JSON.parse(r):t.SourceCode={language:"Solidity",sources:{[t.ContractName]:{content:r}}},t}(await fetch("/api/getContract?address="+e).then((e=>e.json())).catch((e=>{throw console.error("fetch error:",e),e})))}static cacheKey(e){return`contractInfo_${e}`}static loadFromCache(e){const t=sessionStorage.getItem(Q.cacheKey(e));return t?JSON.parse(t):void 0}static saveToCache(e,t){return sessionStorage.setItem(Q.cacheKey(e),JSON.stringify(t))}static async loadDeployment(e,t){var r,s;e=e.toLowerCase();let n=Q.loadFromCache(e);if(n||(n=await Q.loadFromEtherscan(e),Q.saveToCache(e,n)),null===(r=n)||void 0===r||!r.SourceCode||"Contract source code not verified"==(null===(s=n)||void 0===s?void 0:s.ABI))throw"failed to load contract info";return new re(n,e,t)}}function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class re{constructor(e,t,r){(0,d.Z)(this,"id",void 0),(0,d.Z)(this,"chainId",1),(0,d.Z)(this,"code",void 0),(0,d.Z)(this,"address",void 0),(0,d.Z)(this,"context",void 0),(0,d.Z)(this,"implementations",{}),(0,d.Z)(this,"mainContractPath",void 0),(0,d.Z)(this,"etherscanInfo",void 0),(0,d.Z)(this,"compilationInfo",void 0),(0,d.Z)(this,"storageLayout",void 0),(0,d.Z)(this,"ast",void 0),(0,d.Z)(this,"nodesById",{}),(0,d.Z)(this,"nodesByType",{}),(0,d.Z)(this,"astDefTree",void 0),(0,d.Z)(this,"abi",void 0),(0,d.Z)(this,"accessibleAbi",void 0),(0,d.Z)(this,"accessibleCode",void 0),(0,d.Z)(this,"accessibleRuntimeBytecode",void 0),this.id=Math.random().toString().slice(2,10),this.etherscanInfo=e,this.abi=JSON.parse(e.ABI),this.address=t,this.context=r,this.code="";const s=function(e,t){const r=X(e)[0];for(const[s,n]of Object.entries(r))if(n.content&&n.content.match(`(contract|library)\\s+${t}\\b`))return s;return null}(e.SourceCode,e.ContractName);if(!s)throw"failed to find contract...";this.mainContractPath=s,this.code=H(e.SourceCode,s),this.ast=F().parse(this.code,{loc:!0,range:!0,tolerant:!0})}isImpl(){return!!this.context}getImplementations(){return Object.values(this.implementations)}rootContext(){return this.context?this.context.rootContext():this}processAst(e,t){if(Array.isArray(e))e.map((e=>this.processAst(e,t)));else if(null!==e&&void 0!==e&&e.nodeType){this.nodesByType[e.nodeType]||(this.nodesByType[e.nodeType]=[]),this.nodesByType[e.nodeType].push(e),this.nodesById[e.id]=e,e.parentId=null===t||void 0===t?void 0:t.id;for(const t in e)this.processAst(e[t],e)}}async compile(e,t,r){return t||(t={outputSelection:{"*":{"":[],"*":[]}}}),t.outputSelection["*"][""]=(t.outputSelection["*"][""]||[]).concat(e),t.outputSelection["*"]["*"]=(t.outputSelection["*"]["*"]||[]).concat(e),Y.compileCode(this.etherscanInfo.SourceCode,r||this.etherscanInfo.CompilerVersion,t).then((t=>{let{result:r,error:s}=t;if(s||!r)return console.warn("could not compile",this.address,s),{result:r,error:s};if(this.compilationInfo=r,e.includes("storageLayout")){const e=this.etherscanInfo.ContractName;for(const t of Object.values(r.contracts))if(t[e]){this.storageLayout=t[e].storageLayout;break}}return{result:r,error:s}}))}}const se=(0,o.createContext)({deployments:{},setDeployments:()=>{console.warn("missing DeploymentsContext provider")}}),ne=(e,t)=>{const r={},s=Object.values(t).map((e=>{let{address:t}=e;return t})).join(",");s?(r.address=s,e.replace({query:r})):e.replace({query:{}})},oe=e=>{const{deployments:t,setDeployments:r}=(0,o.useContext)(se),{0:s,1:n}=(0,o.useState)(void 0),{0:a,1:i}=(0,o.useState)(0),l=(0,o.useCallback)((async function(s,o){let c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return i(a+1),Q.loadDeployment(s,o).then((async u=>{if(o?o.implementations[s]=u:t[s]=u,r(te({},t)),n(u),c){var p;const e=null===(p=u.etherscanInfo)||void 0===p?void 0:p.Implementation;e&&l(e.toLowerCase(),u)}const h=u.etherscanInfo.SourceCode.settings,m=["storageLayout"],f=u.etherscanInfo.CompilerVersion;return u.compile(m,h,f).then((e=>{if(!e||e.error){let e=f.split("+")[0].slice(1);e.startsWith("0.4.")&&(e="0.4.26"),u.compile(m,h,e).then((()=>{i(a-1)}))}else i(a-1)})),d&&ne(e,t),u})).catch((e=>{throw i(a-1),e}))}),[t,r,a,e]);return{deployments:t,loadDeployment:l,removeDeployment:o=>{const a=o.context;a?delete a.implementations[o.address]:delete t[o.address],r(te({},t)),s==o&&n(void 0),ne(e,t)},selectedDeployment:s,setSelectedDeployment:n,reqCount:a}};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function le(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0===r&&(r=ie({},e));for(const s in t){const n=t[s];"function"==typeof n?n(r,t,s,e):"object"!=typeof n||Array.isArray(n)?r[s]=n:r[s]=le(e,n,r[s]||{})}return r}function ce(e){const t={};for(const r in e){const s=r.split(".");let n=e[r];for(;s.length>1;){n={[s.pop()]:n}}t[s.pop()]=n}return t}function de(e,t,r){let s=e;for(const n of t.split(".")){if(!s)break;s=s[n]}return s||r}var ue=r(20781),pe=r(21783);function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const fe=(0,ue.v)({chain:M.R,transport:(0,pe.d)("https://eth.merkle.io/")}),xe=e=>{const t=["bg-red-300","bg-green-300","bg-blue-300","bg-purple-300","bg-pink-300"];return t[(e.charCodeAt(0)+e.charCodeAt(e.length-1))%t.length]};function ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;if(!e)return"";let r="";const s=e.split(": ",2);return 1==s.length?r="":(r=s[0]+": ",e=s[1]),e.startsWith("0x")||(e="0x"+e),r+e.slice(2).split("").reverse().map(((e,r)=>r%t?e:e+" ")).reverse().join("")}function ye(e){const t=/\[(\d*)\]$/,r=me(me({},e),{},{type:e.type.replace(t,"")});return e.internalType&&(r.internalType=e.internalType.replace(t,"")),r}function be(e){const t=e.type.match(/^(.+)\[(\d*)\]$/);return null!==t&&void 0!==t&&t[2]?parseInt(t[2]):void 0}function ve(e){if(e.type.match(/^(.+)\[(\d*)\]$/)){const t=be(e);return new Array(t||0)}if("tuple"==e.type){return je(e.components)}return""}function je(e){return e.map||console.warn(e),e.map(ve)}var Oe=r(33685).Buffer;const we=["nodeId","title","subtitle","children"];function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Se=e=>{let t=Object.assign({},e);return(0,f.jsx)(i.Z,Ne({autoComplete:"off",className:"bg-gray-100 dark:invert w-full"},t))},Ce=e=>{let{title:t,subtitle:r}=e;return(0,f.jsxs)("div",{className:"w-full flex justify-between",children:[(0,f.jsx)("span",{children:t}),r&&(0,f.jsx)("span",{className:"text-xs pt-1",children:r.split(" ").map(((e,t)=>(0,f.jsx)("span",{className:"text-gray-700 "+xe(e)+" dark:invert rounded-xl px-2 mx-1",children:e},t)))})]})},Pe=e=>{let{nodeId:t,title:r,subtitle:s,children:n}=e,o=(0,u.Z)(e,we);return(0,f.jsx)(D.k,Ne(Ne({itemId:t,label:(0,f.jsx)(Ce,{title:r,subtitle:s}),className:"border-l border-b dark:border-gray-600",onClick:o.onSelect},o),{},{children:n}))},Ie=e=>{var t;let{inputAbi:r,path:s,reducer:n}=e;const[o,a]=n,i=be(r),l=de(o,s,new Array(i||0));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("span",{className:"text-xs text-gray-500 bg-white dark:bg-black-900",children:["array ",null===(t=r.internalType)||void 0===t?void 0:t.replace(/^struct /,"")," ",r.name," (",void 0!==i?"fixed ":"",l.length," items)"]}),(0,f.jsxs)("div",{className:"flex flex-col p-2",children:[l.map(((e,t)=>(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{style:{position:"relative",top:"12px",left:"12px",paddingLeft:"8px",paddingRight:"8px",borderRadius:"20px",zIndex:9999},className:"bg-white",onClick:()=>{l.splice(t,1),a({[s]:l})},children:(0,f.jsx)(V.JO,{size:"sm",name:"close-large-line",className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"})}),(0,f.jsx)(_e,{path:`${s}.${t}`,inputAbi:ye(r),reducer:n})]},t))),void 0===i&&(0,f.jsxs)(V.zx,{className:"border-solid border-2 mt-4",size:"sm",transparent:!0,outline:!0,onClick:()=>{const e=ve(ye(r));l.push(e),a({[s]:l})},children:["+ ",s]})]})]})},De=e=>{let{inputAbi:t,path:r,reducer:s}=e;const n=t.internalType||"tuple";return(0,f.jsxs)("div",{className:"flex flex-col p-2",children:[(0,f.jsxs)("span",{className:"text-xs text-gray-500 pb-2",children:[n," ",t.name]}),t.components.map(((e,t)=>(0,f.jsx)(_e,{inputAbi:e,path:`${r}.${t}`,reducer:s},t)))]})},_e=e=>{let{path:t,inputAbi:r,reducer:s,output:n}=e;if(r.type.endsWith("]"))return(0,f.jsx)("div",{className:"border-2 rounded-xl pl-2 py-2 my-1 hover:border-blue-500",children:(0,f.jsx)(Ie,{path:t,inputAbi:r,reducer:s})});if("tuple"==r.type)return(0,f.jsx)("div",{className:"border rounded-xl pl-2 py-2 mr-2 hover:border-blue-500",children:(0,f.jsx)(De,{path:t,inputAbi:r,reducer:s})});const[o,a]=s,i=de(o,t,"");let l,c=!1;if(i.toString().length>0)try{(0,E.E)([r],[i])}catch(d){c=!0}return l=n?{label:(r.internalType||r.type)+" "+r.name,value:i.toString()}:{label:(r.internalType||r.type)+" "+r.name},(0,f.jsx)(Se,Ne({size:"small",readOnly:n,error:c,sx:{marginTop:"4px",marginBottom:"4px",marginRight:"16px"},onChange:e=>{n||a({[t]:e.target.value})}},l))},Ee=e=>{var t;let{abi:r,reducer:s}=e;const[n,o]=s;return(0,f.jsxs)("div",{className:"flex flex-col gap-2 text-black-500",children:[null===(t=r.inputs)||void 0===t?void 0:t.map(((e,t)=>(0,f.jsx)(_e,{inputAbi:e,path:t.toString(),reducer:[n.params,e=>o({params:ce(e)})]},t))),"payable"==r.stateMutability&&(0,f.jsx)(Se,{variant:"outlined",label:"value (wei)",size:"small",type:"number",onChange:e=>{o({value:e.target.value})}})]})},Ae=e=>{var t;let{abi:r,reducer:s}=e;const[n]=s;return(0,f.jsxs)("div",{className:"flex flex-col gap-2 text-black-500 my-2",children:[(0,f.jsx)("span",{className:"dark:text-gray-200 text-xs",children:"result:"}),null===(t=r.outputs)||void 0===t?void 0:t.map(((e,t)=>(0,f.jsx)(_e,{inputAbi:e,path:t.toString(),reducer:[n.outputs,null],output:!0},t)))]})},Ze=e=>{var t,r;let{id:s,address:n,funcAbi:a}=e;const i=a.name;let l=`${a.type}`;"payable"==a.stateMutability&&(l+=" payable");const c=function(e,t){const r=(0,o.useReducer)(le,e),[s,n]=r;return t?[s,e=>{const t=ce(e);return n(t)}]:[s,n]}({params:je(a.inputs||[]),value:"payable"==a.stateMutability?"0":void 0,outputs:je(a.outputs||[])},!0),[d,u]=c,{0:p,1:h}=(0,o.useState)(null),m=()=>{let e,t;try{e=(0,A.R)({abi:[a],args:d.params})}catch(r){t=r}return[e,t]};return(0,f.jsx)(Pe,{itemId:`function_${s}_${a.name}`,title:i,subtitle:l,children:(0,f.jsxs)("div",{className:"flex flex-col gap-2 text-black-500 my-2 mr-4",children:[(0,f.jsxs)("p",{className:"text-xs dark:text-gray-200",children:["4byte selector: ",(0,R.C)(a)]}),a&&(0,f.jsx)(Ee,{abi:a,reducer:c}),(0,f.jsxs)("div",{className:"flex gap-2 flex-row-reverse",children:[(0,f.jsx)(V.zx,{onClick:()=>{const[e,t]=m();if(t)return h({status:"error",message:t.toString()}),void u({outputs:[]});try{const t=window.ethereum;if(!t)return void h({status:"error",message:"No Ethereum wallet extension found"});const r=(0,T.K)({chain:M.R,transport:(0,z.P)(t)});return r.requestAddresses().then((t=>{const s={account:t[0],to:n,data:e,value:d.value};return r.sendTransaction(s).then((e=>{let t=(0,Z.k)({abi:[a],data:e.data});return 1==a.outputs.length&&(t=[t]),t.map((e=>e.toString()))}))})).catch((e=>{h({status:"error",message:e.toString()})}))}catch(r){r instanceof Error?h({status:"error",message:r.toString()}):h({status:"error",message:"unknown error"})}},size:"xs",children:"Send"}),(0,f.jsx)(V.zx,{className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",onClick:()=>{const[e,t]=m();h(t?{status:"error",message:t.toString()}:{status:"success",message:e})},transparent:!0,outline:!0,size:"xs",children:"Encode"}),(0,f.jsx)(V.zx,{className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",onClick:()=>{const[e,t]=m();if(t)return h({status:"error",message:t.toString()}),void u({outputs:[]});(e=>{const t={to:n,data:e,value:d.value};return fe.call(t).then((e=>{let t=(0,Z.k)({abi:[a],data:e.data});return 1==a.outputs.length&&(t=[t]),t.map((e=>e.toString()))}))})(e).then((e=>{h({status:"success",message:""}),u({outputs:e})})).catch((e=>{h({status:"error",message:e.toString()}),u({outputs:[]})}))},transparent:!0,outline:!0,size:"xs",children:"Call"})]}),0===(null===a||void 0===a||null===(t=a.outputs)||void 0===t?void 0:t.length)&&(0,f.jsx)("p",{className:"text-xs dark:text-gray-200",children:"this function has no return value."}),a&&(null===a||void 0===a||null===(r=a.outputs)||void 0===r?void 0:r.length)>0&&(0,f.jsx)(Ae,{abi:a,reducer:c}),(null===p||void 0===p?void 0:p.message)&&(0,f.jsx)("div",{children:(0,f.jsx)(V.zx,{size:"xs",onClick:()=>navigator.clipboard.writeText(p.message),children:"Copy to clipboard"})}),(0,f.jsx)("p",{className:"text-xs text-gray-500 break-words",children:"success"===(null===p||void 0===p?void 0:p.status)?ge(p.message):null===p||void 0===p?void 0:p.message})]})})};const Te=e=>{var t;let{id:r,address:s,storage:n,types:a}=e;const{0:i,1:l}=(0,o.useState)("0x..."),{0:c,1:d}=(0,o.useState)([]),u=a[n.type],{keyTypes:p,storageType:h}=function(e){let{types:t,key:r}=e;const s=[];let n=t[r];for(;"mapping"===n.encoding;)s.push(n.key),n=t[n.value];return{keyTypes:s,storageType:n}}({types:a,key:n.type}),m="dynamic_array"===h.encoding||!(null===h||void 0===h||null===(t=h.members)||void 0===t||!t.length)||!!h.base;return(0,f.jsx)(Pe,{itemId:`storageitem_${r}`,title:n.label,subtitle:u.label.replace(/ /g,""),children:(0,f.jsxs)("div",{className:"flex flex-col gap-2 text-black-500 my-2 mr-4",children:[(0,f.jsxs)("p",{className:"text-xs dark:text-gray-200",children:["base slot: ",n.slot,", offset: ",n.offset,", size:"," ",null===u||void 0===u?void 0:u.numberOfBytes," bytes"]}),(0,f.jsx)("p",{children:m?(0,f.jsx)("p",{className:"text-xs dark:text-gray-200",children:"We currently don't support decoding of this storage slot type. Your contribution is welcome."}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,f.jsx)("p",{className:"text-xs dark:text-gray-200",children:(0,f.jsx)("p",{children:i?`results: ${i}`:""})}),p.map(((e,t)=>(0,f.jsx)(Se,{disabled:m,size:"small",className:"bg-gray-100 dark:invert w-full",label:a[e].label,onChange:e=>{c[t]=e.target.value,d([...c])}},t)))]}),(0,f.jsx)("div",{className:"flex flex-row-reverse pt-2",children:(0,f.jsx)(V.zx,{disabled:p.some(((e,t)=>void 0===c[t]))||m,onClick:()=>{let e=n.slot;for(let r=0;r<p.length;r++){const t=c[r];e=(0,B.w)((0,L._)(["uint256","uint256"],[BigInt(t),e]))}const t={address:s,slot:e};return fe.getStorageAt(t).then((t=>{let r=t.toString().slice(2);(n.offset||"32"!=u.numberOfBytes)&&(r=r.slice(2*n.offset,2*(n.offset+parseInt(u.numberOfBytes)))),r="0x"+r;try{let t="";if("address"===h.label)t=r;else if("bytes"===h.encoding){t=1n===(1n&BigInt(r))?"decoding of long strings is unsupported":Oe.from(r.slice(2),"hex").toString("utf-8")}else t=(0,$.r)([{type:h.label}],r).toString();e!=n.slot&&(t+=` (mapped slot: ${e})`),l(t)}catch(s){console.error(s),l("failed to decode")}}))},size:"xs",className:"font-medium",children:"Read"})})]})})]})})},ze=e=>{var t;let{deployment:r,onSelect:s}=e;const n=(0,c.useRouter)(),{loadDeployment:o,removeDeployment:a}=oe(n),i=r.getImplementations(),l=(0,f.jsxs)("div",{className:"whitespace-nowrap",children:[(0,f.jsxs)("div",{className:"flex gap-2",children:[(0,f.jsx)("span",{children:r.etherscanInfo.ContractName}),(0,f.jsx)("button",{type:"button",value:"",className:"ri-close-large-line mr-1",onClick:()=>{confirm("Are you sure you want to remove this contract?")&&a(r)},children:(0,f.jsx)(V.JO,{size:"sm",name:"close-large-line",className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"})})]}),(0,f.jsxs)("p",{className:"text-xs",children:[r.address,r.context?" @ "+r.rootContext().address:""]})]});return(0,f.jsxs)(Pe,{itemId:"deployment_"+r.id,title:l,onSelect:()=>s(r),children:[(0,f.jsx)(D.k,{itemId:"ti_compiler_"+r.id,label:"Compiler: "+(null===(t=r.etherscanInfo)||void 0===t?void 0:t.CompilerVersion)}),r.storageLayout&&(0,f.jsx)(D.k,{itemId:"ti_storage_"+r.id,label:"Storage",children:r.storageLayout.storage.map(((e,t)=>(0,f.jsx)(Te,{id:e.astId.toString(),address:r.rootContext().address,storage:e,types:r.storageLayout.types},t)))}),(0,f.jsx)(D.k,{itemId:"ti_functions_"+r.id,label:"Functions",children:r.abi.filter((e=>"function"==e.type)).map(((e,t)=>(0,f.jsx)(Ze,{id:t.toString(),address:r.rootContext().address,funcAbi:e},t)))}),(0,f.jsx)(D.k,{itemId:"ti_impls_"+r.id,label:(0,f.jsxs)("span",{children:["Implementations",(0,f.jsx)("button",{className:"mx-2 rounded-xl",onClick:()=>{const e=prompt("address");e&&o(e,r)},children:(0,f.jsx)(V.JO,{size:"sm",name:"add-fill",className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"})})]}),children:null===i||void 0===i?void 0:i.map((e=>(0,f.jsx)(ze,{deployment:e,onSelect:s},"impl_"+r.address+"_"+e.address)))})]})},Re=e=>{let{deployments:t,onSelect:r}=e;return(0,f.jsx)(D.k,{itemId:"ti_contracts",label:"Contracts",children:null===t||void 0===t?void 0:t.map((e=>(0,f.jsx)(ze,{deployment:e,onSelect:r},e.address)))})};var Be=e=>{let{deployments:t,onSelect:r}=e;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(_.b,{className:"font-mono h-full overflow-x-hidden",defaultExpandedItems:["ti_contracts"],style:{height:"calc(100% - 60px)"},children:(0,f.jsx)(Re,{deployments:t,onSelect:r})})})};var Le=e=>{let{children:t}=e;return(0,f.jsx)("div",{className:"w-full p-2 bg-gray-100 dark:bg-black-700 min-h-[64px]",children:t})};const $e=()=>{var e;const t=(0,c.useRouter)(),{deployments:r,selectedDeployment:s,setSelectedDeployment:n,loadDeployment:d}=oe(t),{0:u,1:p}=(0,o.useState)(null),{0:h,1:m}=(0,o.useState)({}),x=(0,o.useCallback)((async e=>{let{address:t,invalidateRoute:s,statusCallback:n}=e;if((0,a.At)(t)){if(n({status:"loading"}),t=t.toLowerCase(),!r[t])return d(t,void 0,!0,s).then((()=>{n({status:"loaded"})})).catch((e=>{n({status:"error",message:"failed to load contract\n"+e})}));n({status:"loaded"})}else n(t?{status:"error",message:"invalid address format: "+t}:null)}),[r]);return(0,o.useEffect)((()=>{t.isReady&&(p({status:"loading"}),async function(){const e=("string"===typeof t.query.address?t.query.address.split(","):[]).map((e=>x({address:e,invalidateRoute:!1,statusCallback:()=>{}})));await Promise.all(e),p({status:"loaded"})}())}),[t]),(0,f.jsxs)("div",{className:"dark:bg-black-800 dark:border-black-500 dark:text-gray-100",style:{height:"calc(100vh - 209px)"},children:[(0,f.jsxs)(j,{id:"resizable-grp-1",direction:"horizontal",children:[(0,f.jsxs)(O,{defaultSize:40,children:[(0,f.jsxs)(Le,{children:[(0,f.jsxs)("div",{className:"flex gap-2",children:[(0,f.jsx)(i.Z,{size:"small",label:"address",className:"bg-gray-200 dark:invert w-full font-mono",variant:"outlined",onInput:e=>x({address:e.target.value.trim(),invalidateRoute:!0,statusCallback:p}),disabled:"loading"===(null===u||void 0===u?void 0:u.status),inputProps:{maxLength:42}}),"loading"===(null===u||void 0===u?void 0:u.status)?(0,f.jsx)(l.Z,{}):""]}),(0,f.jsx)("p",{className:"text-red-500 truncate",children:"error"===(null===u||void 0===u?void 0:u.status)?u.message:""})]}),(0,f.jsx)(Be,{deployments:Object.values(r),onSelect:(e,t)=>{var r;if(null===e||void 0===e||!e.address)return void console.warn("missing contract");e.address!=(null===s||void 0===s?void 0:s.address)&&n(e),null!==t&&void 0!==t&&null!==(r=t.node)&&void 0!==r&&r.loc&&m(t.node.loc.start)}})]}),(0,f.jsx)(w,{id:"resizable-handle-1",className:"border-2 dark:border-gray-600"}),(0,f.jsxs)(O,{defaultSize:60,children:[(0,f.jsxs)(Le,{children:[(0,f.jsx)("p",{className:"font-semibold",children:null===s||void 0===s||null===(e=s.etherscanInfo)||void 0===e?void 0:e.ContractName}),(0,f.jsx)("span",{className:"text-xs",children:null===s||void 0===s?void 0:s.address})]}),(0,f.jsx)(I,{code:null===s||void 0===s?void 0:s.code,line:h.line,column:h.column+1})]})]}),(0,f.jsxs)("sub",{children:["Alpha version - ",(0,f.jsx)("a",{href:"https://twitter.com/smlxldotio",children:"@smlxldotio"})," ","for feature requests or bug fixes"]})]})};var Me=()=>{const{0:e,1:t}=(0,o.useState)({});return(0,f.jsx)(se.Provider,{value:{deployments:e,setDeployments:t},children:(0,f.jsx)($e,{})})},Ve=r(69264);const Je=()=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(n(),{children:[(0,f.jsx)("meta",{property:"og:type",content:"website"}),(0,f.jsx)("title",{children:"EVM Codes - Contract Viewer"}),(0,f.jsx)("meta",{name:"description",content:"EVM Codes - Contract Viewer"})]}),(0,f.jsx)(V.W2,{children:(0,f.jsx)(Me,{})})]});Je.getLayout=function(e){return(0,f.jsx)(Ve.Z,{children:e})};var Fe=Je},70416:function(e,t,r){"use strict";r.d(t,{C:function(){return n},V:function(){return s}});const s=navigator.userAgent.toUpperCase().indexOf("MAC")>=0,n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t="https://www.evm.codes";return t+e}},25913:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contract",function(){return r(5015)}])}},function(e){e.O(0,[393,218,161,774,888,179],(function(){return t=25913,e(e.s=t);var t}));var t=e.O();_N_E=t}]);