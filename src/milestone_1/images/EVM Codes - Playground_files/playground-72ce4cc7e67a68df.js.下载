(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{69264:function(e,t,r){"use strict";r.d(t,{Z:function(){return B}});var n=r(3610),a=r.n(n),s=r(70416),l=r(79617),o=r(48004),i=r(57410);var c=()=>(0,i.jsx)("footer",{className:"border-t border-gray-100 dark:border-black-600 py-4",children:(0,i.jsx)(o.W,{children:(0,i.jsxs)("div",{className:"flex justify-between text-tiny text-gray-500 items-start",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row leading-6",children:[(0,i.jsxs)("span",{children:["Brought to you by"," ",(0,i.jsx)("a",{className:"underline font-medium",href:"https://smlxl.io",target:"_blank",rel:"noreferrer",children:"smlXL, Inc"}),"."]}),(0,i.jsxs)("span",{className:"md:mx-2",children:["Powered by"," ",(0,i.jsx)("a",{className:"underline font-medium",href:"https://github.com/ethereumjs/ethereumjs-monorepo",target:"_blank",rel:"noreferrer",children:"EthereumJS"})," ","and"," ",(0,i.jsx)("a",{className:"underline font-medium",href:"https://github.com/ethereum/solc-js",target:"_blank",rel:"noreferrer",children:"SolcJS"}),"."]})]}),(0,i.jsx)("div",{children:(0,i.jsx)("a",{className:"underline",href:l.Vh,target:"_blank",rel:"noreferrer",children:"GitHub"})})]})})}),d=r(36765),u=r(73752),m=r.n(u),p=r(41262),h=r.n(p),x=r(76747),f=r(79176);var b=()=>{const{query:e}=(0,x.useKBar)();return(0,i.jsxs)(f.zx,{size:"xs",onClick:e.toggle,className:"mx-4 py-1 px-2 font-medium",transparent:!0,outline:!0,padded:!1,children:[s.V&&(0,i.jsx)(f.JO,{name:"command-line",className:"mr-1"}),s.V?(0,i.jsx)("span",{children:"K"}):(0,i.jsx)("span",{children:"Ctrl + K"})]})};var g=e=>{let{href:t,children:r,className:n,external:a=!1}=e;return(0,i.jsx)("li",{className:m()("inline-block mx-4 text-sm my-2 md:my-0 text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white",n),children:(0,i.jsx)(h(),{legacyBehavior:!0,href:t,passHref:a,children:(0,i.jsx)("a",{target:a?"_blank":"_self",children:r})})})},y=r(11495);var v=()=>{const{theme:e,setTheme:t,resolvedTheme:r}=(0,y.F)(),n=[{id:"theme",name:"Select theme\u2026",shortcut:["t"],keywords:"theme appearance",section:"Preferences"},{id:"theme-light",name:"Light",shortcut:[],keywords:"light",section:"",perform:()=>t("light"),parent:"theme"},{id:"theme-dark",name:"Dark",shortcut:[],keywords:"dark",section:"",perform:()=>t("dark"),parent:"theme"},{id:"theme-system",name:"System",shortcut:[],keywords:"system",section:"",perform:()=>t("system"),parent:"theme"}];(0,x.useRegisterActions)(n,[n]);return(0,i.jsx)(f.zx,{transparent:!0,onClick:()=>{t("dark"===e?"light":"dark")},children:(0,i.jsx)(f.JO,{name:"dark"===r?"contrast-2-fill":"contrast-2-line",className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"})})},j=r(70129),k=r(29713),w=r(43836),N=r(12038),C=r(9815),S=r(86569);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const P=e=>{const{data:t,label:r}=e,n=t.value===l.h_;return(0,i.jsxs)(w.c.Option,E(E({},e),{},{children:[r,n&&(0,i.jsx)(f.__,{children:"Live"})]}))};var T=()=>{const{forks:e,selectedFork:t,onForkChange:r}=(0,d.useContext)(C.DB),{0:n,1:a}=(0,d.useState)(),{0:s,1:o}=(0,d.useState)([]),c=(0,k.useRouter)(),u=(0,d.useMemo)((()=>e.map((e=>({value:e.name,label:e.name})))),[e]),m=(0,d.useMemo)((()=>u.find((e=>e.value===(null===t||void 0===t?void 0:t.name)))),[u,t]),p=(0,d.useCallback)((e=>{a(e),r(e.value),c.query.fork=e.value,c.push({query:c.query})}),[r]);return(0,d.useEffect)((()=>{if(!c.isReady)return;const e=c.query.fork?u.find((e=>e.value===c.query.fork)):u.find((e=>e.value===l.h_));e&&a(e)}),[c.isReady,m]),(0,d.useEffect)((()=>{const e=[],t=u.map(((t,r)=>{const n=(0,S.GT)("fork",r);return e.push(n),{id:n,name:t.label,shortcut:[],keywords:t.label,section:"",perform:()=>p(t),parent:"fork"}}));e.length>0&&o([{id:"fork",name:"Select hardfork\u2026",shortcut:["f"],keywords:"fork network evm",section:"Preferences"},...t])}),[u,p]),(0,x.useRegisterActions)(s,[s]),(0,i.jsx)("div",{className:"flex justify-end items-center rounded",children:e.length>0&&(0,i.jsxs)("div",{className:"flex items-center mr-2",children:[(0,i.jsx)(f.JO,{name:"git-branch-line",className:"text-indigo-500 mr-2"}),(0,i.jsx)(N.ZP,{onChange:p,options:u,value:n,isSearchable:!1,classNamePrefix:"select",menuPlacement:"auto",components:{Option:P}})]})})};var M=()=>{const{0:e,1:t}=(0,d.useState)(!1);return(0,i.jsx)("nav",{className:"fixed z-40 top-0 inset-x-0 py-2 bg-white dark:bg-black-800",children:(0,i.jsx)(f.W2,{children:(0,i.jsxs)("div",{className:"h-10 flex items-center justify-between",children:[(0,i.jsx)(h(),{legacyBehavior:!0,href:"/",passHref:!0,children:(0,i.jsx)("a",{children:(0,i.jsx)(f.TR,{})})}),(0,i.jsxs)("ul",{className:m()("py-2 md:py-0 px-2 flex justify-between items-start md:items-center flex-col md:flex-row w-full md:w-auto fixed md:static shadow-md md:shadow-none transition-all",{"left-0 bg-white dark:bg-black-800 md:bg-transparent dark:md:bg-transparent":e,"-left-full":!e}),style:{top:56},children:[(0,i.jsx)(g,{href:"/",children:"Opcodes"}),(0,i.jsx)(g,{href:"/precompiled",children:"Precompiled Contracts"}),(0,i.jsx)(g,{href:"/contract",children:"Contract Viewer"}),(0,i.jsx)(g,{href:"/playground",children:"Playground"}),(0,i.jsx)(g,{href:"/about",children:"About the EVM"}),(0,i.jsx)(g,{href:l.Vh,external:!0,children:"GitHub"}),(0,i.jsx)("li",{className:"hidden lg:inline-block",children:(0,i.jsx)(b,{})})]}),(0,i.jsxs)("div",{className:"items-center ml-auto flex",children:[(0,i.jsx)(T,{}),(0,i.jsx)(v,{})]}),(0,i.jsx)(f.pr,{isActive:e,onClick:()=>t(!e)})]})})})};var B=e=>{let{children:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a(),{children:[(0,i.jsx)("title",{children:"EVM Codes - An Ethereum Virtual Machine Opcodes Interactive Reference"}),(0,i.jsx)("meta",{property:"og:type",content:"website"}),(0,i.jsx)("meta",{property:"og:title",content:"EVM Codes"}),(0,i.jsx)("meta",{property:"og:description",content:"An Ethereum Virtual Machine Opcodes Interactive Reference"}),(0,i.jsx)("meta",{property:"og:image",content:`${(0,s.C)("/og.png")}`}),(0,i.jsx)("meta",{property:"og:url",content:(0,s.C)()}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)("div",{className:"flex flex-col h-screen justify-between",children:[(0,i.jsx)(M,{}),(0,i.jsx)("main",{className:"mb-auto mt-20 md:mt-28 pb-10",children:t}),(0,i.jsx)(c,{})]})]})}},71273:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ne}});var n=r(3610),a=r.n(n),s=r(70129),l=r(36765),o=r(71928),i=r(73752),c=r.n(i),d=r(88129),u=r.n(d),m=r(51023),p=r(29713),h=r(12038),x=r(70813),f=r.n(x),b=r(9815),g=r(78703),y=r(70416),v=r(79617);const j="soljson-v0.8.27+commit.40a35a09";function k(e,t){let r=null;if(e.startsWith("0x")||e.startsWith("0X")){if(!/^(0x|0X)[0-9a-fA-F]+$/.test(e))throw new Error("Not a valid hexadecimal number: "+e);r=new m.BN(e.substring(2),"hex")}else{if(!/^[0-9]+$/.test(e))throw new Error("Not a valid decimal number: "+e);r=new m.BN(e)}if(r.byteLength()>t)throw new Error("Value is too big for "+t+" byte(s): "+e);return r.toString("hex",2*t)}var w=r(86569);var N={Yul:['object "Contract" {\n    // This is the constructor code of the contract.\n    code {\n        // Deploy the contract\n        datacopy(0, dataoffset("runtime"), datasize("runtime"))\n        return(0, datasize("runtime"))\n    }\n\n    object "runtime" {\n        code {\n            // Protection against sending Ether\n            if gt(callvalue(), 0) {\n                revert(0, 0)\n            }\n\n            // Dispatcher\n            switch selector()\n            case 0x6d4ce63c {\n                returnUint(get())\n            }\n            case 0x371303c0 {\n                inc()\n            }\n            case 0xb3bcfa82 {\n                dec()\n            }\n            default {\n                revert(0, 0)\n            }\n\n            // ABI\n            function get() -> counter {\n                counter := sload(counterSlot())\n            }\n\n            function inc() {\n                sstore(counterSlot(), add(get(), 1))\n            }\n\n            function dec() {\n                sstore(counterSlot(), sub(get(), 1))\n            }\n\n            // Helpers\n            function selector() -> s {\n                s := div(calldataload(0), 0x100000000000000000000000000000000000000000000000000000000)\n            }\n\n            function returnUint(v) {\n                mstore(0, v)\n                return(0, 0x20)\n            }\n\n            // Slots\n            function counterSlot() -> s { s := 0 }\n        }\n    }\n  }'],Solidity:["// SPDX-License-Identifier: MIT\npragma solidity ^0.8.3;\n\ncontract Counter {\n    uint public count;\n\n    // Function to get the current count\n    function get() public view returns (uint) {\n        return count;\n    }\n\n    // Function to increment count by 1\n    function inc() public {\n        count += 1;\n    }\n\n    // Function to decrement count by 1\n    function dec() public {\n        count -= 1;\n    }\n}"],Bytecode:["604260005260206000F3"],Mnemonic:["PUSH1 0x42\nPUSH1 0\nMSTORE\nPUSH1 32\nPUSH1 0\nRETURN"]},C=r(57410);var S=(0,l.forwardRef)(((e,t)=>{let{instructionId:r,isActive:n,name:a,value:s,hasBreakpoint:o,onAddBreakpoint:i,onRemoveBreakpoint:d}=e;const{0:u,1:m}=(0,l.useState)(o),p=(0,l.useCallback)((()=>{o?d(r):i(r)}),[o,r,i,d]);return(0,C.jsxs)("tr",{onMouseEnter:()=>m(!0),onMouseLeave:()=>!o&&m(!1),className:c()("relative border-b border-gray-200 dark:border-black-500",{"text-gray-900 dark:text-gray-200":n,"text-gray-400 dark:text-gray-600":!n}),ref:t,children:[(0,C.jsxs)("td",{className:"py-1 pl-6 pr-3",children:["[",(0,w.NC)(r),"]"]}),(0,C.jsxs)("td",{className:"py-1 pl-3 pr-6",children:[(u||o)&&(0,C.jsx)("button",{onClick:p,className:c()("absolute block top-2 left-2 w-2 h-2 z-10 rounded-full",{"bg-red-300 hover:bg-red-500":!o,"bg-red-500":o})}),a]}),(0,C.jsx)("td",{className:"py-1 px-4",children:s})]})}));var O=e=>{let{containerRef:t}=e;const r=(0,l.useRef)({}),n=(0,l.useRef)(),{instructions:a,executionState:s,isExecuting:o,addBreakpoint:i,removeBreakpoint:c}=(0,l.useContext)(b.DB);return(0,l.useEffect)((()=>{a.forEach((e=>r.current[e.id]=(0,l.createRef)()))}),[a]),(0,l.useEffect)((()=>{if(null!==t&&void 0!==t&&t.current&&null!==s&&void 0!==s&&s.programCounter){var e;const a=(null===n||void 0===n||null===(e=n.current)||void 0===e?void 0:e.offsetTop)||0,l=r.current[s.programCounter];null!==l&&void 0!==l&&l.current&&(t.current.scrollTop=l.current.offsetTop-a-28)}}),[t,n,s.programCounter]),(0,C.jsx)("table",{className:"w-full font-mono text-tiny",ref:n,children:(0,C.jsx)("tbody",{children:a.map((e=>{let{id:t,name:n,value:a,hasBreakpoint:l}=e;return(0,C.jsx)(S,{instructionId:t,ref:r.current[t],isActive:o&&s.programCounter===t,name:n,value:a,hasBreakpoint:l,onAddBreakpoint:i,onRemoveBreakpoint:c},t)}))})})},E=r(79176);var P=e=>{let{output:t}=e;const r=(0,l.useRef)(null),n=(0,l.useRef)(null);return(0,l.useEffect)((()=>{var e,t,a;null===(e=r.current)||void 0===e||null===(t=e.parentElement)||void 0===t||t.scrollTo({top:null===(a=n.current)||void 0===a?void 0:a.offsetTop,behavior:"smooth"})}),[t]),(0,C.jsxs)("div",{ref:r,className:"px-4 pt-2 leading-5 font-mono text-tiny text-gray-400 dark:text-gray-500",children:[t.map(((e,t)=>(0,C.jsxs)("pre",{children:["error"===e.type&&(0,C.jsx)("span",{className:"text-red-500",children:"[Error] "}),"warn"===e.type&&(0,C.jsx)("span",{className:"text-yellow-500",children:"[Warn] "}),e.message]},(0,w.GT)("line",t)))),(0,C.jsx)("div",{ref:n})]})};const T=e=>{let{label:t,value:r}=e;const n=r&&0!==r.length?Array.isArray(r)?r:[r]:[""];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("dt",{className:"mb-1 text-gray-500 dark:text-gray-400 font-medium uppercase",children:t}),(0,C.jsx)("dd",{className:"font-mono mb-2",children:n.map(((e,r)=>(0,C.jsx)(E.x1,{isFullWidth:!0,showEmpty:!0,value:e?e.toString():"",className:c()("break-all text-tiny border-gray-600 dark:border-gray-700 text-gray-300")},(0,w.GT)(t,r))))})]})};var M=()=>{const{executionState:e}=(0,l.useContext)(b.DB),{memory:t,stack:r,storage:n,returnValue:a,transientStorage:s}=e;return(0,C.jsx)("div",{children:(0,C.jsxs)("dl",{className:"text-2xs",children:[(0,C.jsx)(T,{label:"Memory",value:t}),(0,C.jsx)(T,{label:"Stack",value:r}),(0,C.jsx)("dt",{className:"mb-1 text-gray-500 dark:text-gray-400 font-medium uppercase",children:"Storage"}),(0,C.jsx)("dd",{className:"mb-2",children:(0,C.jsx)("div",{className:"inline-block border border-gray-600 dark:border-gray-700 px-2 py-1 mb-1 w-full",style:{minHeight:26},children:(0,C.jsx)("dl",{children:n.map(((e,t)=>{let{address:r,slot:n,value:a}=e;return(0,C.jsxs)("div",{children:[(0,C.jsx)(T,{label:"Contract",value:r}),(0,C.jsx)(T,{label:"Slot",value:n}),(0,C.jsx)(T,{label:"Value",value:a})]},`storage-${t}`)}))})})}),(0,C.jsx)("dt",{className:"mb-1 text-gray-500 dark:text-gray-400 font-medium uppercase",children:"Transient storage"}),(0,C.jsx)("dd",{className:"mb-2",children:(0,C.jsx)("div",{className:"inline-block border border-gray-600 dark:border-gray-700 px-2 py-1 mb-1 w-full",style:{minHeight:26},children:(0,C.jsx)("dl",{children:s.map(((e,t)=>{let{address:r,key:n,value:a}=e;return(0,C.jsxs)("div",{children:[(0,C.jsx)(T,{label:"Contract",value:r}),(0,C.jsx)(T,{label:"Key",value:n}),(0,C.jsx)(T,{label:"Value",value:a})]},`transient-storage-${t}`)}))})})}),(0,C.jsx)(T,{label:"Return value",value:a})]})})},B=r(76747),V=r(2368);var R,D,A=()=>{const{isExecuting:e,executionState:t,nextExecution:r,continueExecution:n}=(0,l.useContext)(b.DB),a=[{id:"step",name:"Step",shortcut:["s"],keywords:"execution next",section:"Execution",perform:r,subtitle:"Run next execution"},{id:"continue",name:"Continue",shortcut:["q"],keywords:"execution continue",section:"Execution",perform:n,subtitle:"Continue execution"}];return(0,B.useRegisterActions)(a,[r,n]),(0,C.jsxs)("div",{className:"flex flex-grow justify-between items-center text-sm",children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("span",{className:"inline-block ml-1 mr-2 text-gray-400",children:(0,C.jsx)(E.JO,{name:"gas-station-fill",className:"text-indigo-500"})}),(0,C.jsx)("span",{className:"inline-block mr-1 text-gray-500 text-sm select-none",children:"Current:"}),(0,C.jsx)("span",{className:"inline-block mr-4 select-all cursor-help","data-tooltip-content":"Gas consumed for the current instruction",children:t.currentGas||0}),(0,C.jsx)("span",{className:"inline-block mr-1 text-gray-500 text-sm select-none",children:"Total:"}),(0,C.jsx)("span",{className:"inline-block mr-4 select-all cursor-help","data-tooltip-content":"Total gas consumed",children:t.totalGas||0}),(0,C.jsx)(V.u,{className:"tooltip"})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(E.zx,{transparent:!0,disabled:!e,onClick:r,padded:!1,className:"mr-4",tooltip:"Step into",tooltipId:"step",children:(0,C.jsx)(E.JO,{name:"arrow-go-forward-line",className:"text-indigo-500"})}),(0,C.jsx)(E.zx,{transparent:!0,disabled:!e,onClick:n,padded:!1,tooltip:"Continue execution",tooltipId:"continue",children:(0,C.jsx)(E.JO,{name:"play-circle-line",className:"text-indigo-500"})})]})]})};!function(e){e.Yul="Yul",e.Solidity="Solidity",e.Bytecode="Bytecode",e.Mnemonic="Mnemonic"}(R||(R={})),function(e){e.Wei="Wei",e.Gwei="Gwei",e.Finney="Finney",e.Ether="Ether"}(D||(D={}));const I=Object.keys(R).map((e=>({value:e,label:e})));var $=e=>{let{codeType:t,onCodeTypeChange:r}=e;const{selectedFork:n}=(0,l.useContext)(b.DB),a=(0,l.useMemo)((()=>({value:t,label:t})),[t]);return(0,C.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,C.jsxs)("h3",{className:"font-semibold text-md hidden xl:inline-flex items-center",children:[(0,C.jsx)("span",{children:"EVM Playground"}),(0,C.jsx)(E.__,{children:null===n||void 0===n?void 0:n.name})]}),(0,C.jsx)("div",{className:"flex items-center justify-between w-full xl:w-auto",children:(0,C.jsx)(h.ZP,{onChange:r,options:I,value:a,isSearchable:!1,classNamePrefix:"select",menuPlacement:"auto"})})]})},_=r(84360),F=r(15727),U=r.n(F),z=r(33685).Buffer;function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const J=[{inputs:[],inputTypes:"",name:"Compile",label:"compile",value:"compile",type:"compiler",outputs:[],stateMutability:"payable"}],L={inputs:[],inputTypes:"",name:"Constructor",label:"constructor",value:"constructor",type:"constructor",outputs:[],stateMutability:"nonpayable"},W={singleValue:e=>G(G({},e),{},{textTransform:"none"}),option:e=>G(G({},e),{},{textTransform:"none"})},q=Object.keys(D).map((e=>({value:e,label:e})));var Z=e=>{var t,r;let{log:n,setShowSimpleMode:a,show:s,deployByteCode:o,selectedContract:i,callValue:c,unitValue:d,setCallValue:u,setUnit:p,getCallValue:x,handleCompile:f,methodByteCode:g,handleCopyPermalink:y}=e;const{transactionData:v,loadInstructions:j,startTransaction:k,deployedContractAddress:N}=(0,l.useContext)(b.DB),S=(0,l.useRef)(),{0:O,1:P}=(0,l.useState)(),{0:T,1:M}=(0,l.useState)(""),B=(0,l.useMemo)((()=>T?T.split(",").filter((e=>e.length>0)):[]),[T]),V=(0,l.useMemo)((()=>((null===i||void 0===i?void 0:i.abi)||[]).map((e=>{var t;return G(G({},e),{},{inputTypes:(null===(t=e.inputs)||void 0===t?void 0:t.map((e=>e.type)).join(","))||""})}))),[i]),R=(0,l.useCallback)((()=>{if(!O)return"";const e=O.name+"("+O.inputTypes+")";try{var t,r;const a=B.length>0&&(null===(t=O.inputs)||void 0===t?void 0:t.length)>0?U().simpleEncode(e,...B):U().simpleEncode(e);return T.length>0&&(null===(r=O.inputs)||void 0===r?void 0:r.length)>0?n(`run method ${e} with ${B}.`):T.length>0?n(`run method ${e}. Arguments will be ignored.`,"warn"):n(`run method ${e}.`),(0,m.bufferToHex)(a).substring(2)}catch(a){return n("Can't encode method, please check your arguments.","error"),""}}),[n,T.length,B,O]),D=(0,l.useCallback)((()=>{if(!i||!O)return;let e="";if(O.inputs&&O.inputs.length>0){if(B.length<=0)return void n("Please input args","error");const t=U().rawEncode(O.inputs.map((e=>e.type)),B);e=(0,m.bufferToHex)(t).substring(2)}o(i.code,e,void 0)}),[i,O,o,B,n]),A=(0,l.useCallback)((async()=>{if(!N||!g)return void n("Please deploy first","error");if(!O)return void n("Please select a method","error");j(g.substring(2));const e=R();if(!(0,w.xb)(e))try{const t=await v(e,x(),_.kL.fromString(N));if(!t)return;const r=await k(t);!r.error&&O.outputs&&O.outputs.length>0?n(`run method complete, the response is ${U().rawDecode(O.outputs.map((e=>e.type)),z.from(r.returnValue))}`):r.error?n(`run method failed, ${r.error.error}`):n("run method complete.")}catch(t){n(`run method failed, ${t}`)}}),[N,g,O,j,R,v,x,n,k]),I=(0,l.useMemo)((()=>"compiler"===(null===O||void 0===O?void 0:O.type)?"Compile":"constructor"===(null===O||void 0===O?void 0:O.type)?"Deploy":"Run Method"),[O]),$=(0,l.useCallback)((()=>{"compiler"===(null===O||void 0===O?void 0:O.type)?f():"constructor"===(null===O||void 0===O?void 0:O.type)?D():A()}),[O,D,A,f]),F=(0,l.useMemo)((()=>{const e=[...J];if(!V)return e;const t=V.map((e=>G(G({},e),{},{label:e.name+"("+e.inputTypes+")",value:e.name})));let r=t.find((e=>"constructor"===e.type));const n=(0,w.xb)(N)||(0,w.xb)(g),a=t.filter((e=>"constructor"!==e.type)).map((e=>G(G({},e),{},{isDisabled:n})));return i&&!r&&(r=G({},L)),r&&e.push(r),[...e,...a]}),[V,i,N,g]);return(0,l.useEffect)((()=>{const e=F.find((e=>"constructor"===e.type)),t=F.find((e=>"compiler"===e.type));P(e||t)}),[F,P]),(0,l.useEffect)((()=>{var e;O&&("nonpayable"===O.stateMutability&&M(""),(!O.inputs||(null===(e=O.inputs)||void 0===e?void 0:e.length)<=0)&&u(""))}),[O,u]),(0,C.jsxs)("div",{className:s?"overflow-auto":"hidden",style:{height:156},ref:S,children:[(0,C.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between px-4 py-4 md:py-2 md:border-r border-gray-200 dark:border-black-500",children:[(0,C.jsxs)("div",{className:"flex flex-col md:flex-row md:gap-x-4 gap-y-2 md:gap-y-0 mb-4 md:mb-0",children:[(0,C.jsx)(h.ZP,{options:F,onChange:e=>{P(e)},styles:W,menuPortalTarget:null===(t=S.current)||void 0===t?void 0:t.parentElement,value:O,isSearchable:!1,placeholder:"Select Method",classNamePrefix:"select",menuPlacement:"auto"}),(0,C.jsx)(E.zx,{onClick:y,transparent:!0,padded:!1,children:(0,C.jsx)("span",{className:"inline-block mr-4 select-all","data-tooltip-content":"Share permalink",children:(0,C.jsx)(E.JO,{name:"links-line",className:"text-indigo-500 mr-1"})})})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(E.zx,{transparent:!0,padded:!1,onClick:a,children:(0,C.jsx)("span",{className:"inline-block mr-4 text-indigo-500",children:"Simple Mode"})}),(0,C.jsx)(E.zx,{size:"sm",contentClassName:"justify-center",onClick:$,children:I})]})]}),(0,C.jsx)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between px-4 py-4 md:py-2 md:border-r border-gray-200 dark:border-black-500",children:(0,C.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:gap-x-4 gap-y-2 md:gap-y-0 mb-4 md:mb-0",children:[(0,C.jsx)("div",{className:"font-normal text-sm w-16",children:"Value:"}),(0,C.jsx)(E.II,{type:"number",value:c,onChange:e=>u(e.target.value),placeholder:"Value To Send",className:"bg-white dark:bg-black-500 w-52"}),(0,C.jsx)(h.ZP,{isDisabled:"payable"!==(null===O||void 0===O?void 0:O.stateMutability),onChange:e=>p(e.value),options:q,value:{label:d,value:d},isSearchable:!1,classNamePrefix:"select",menuPlacement:"auto",menuPortalTarget:null===S||void 0===S||null===(r=S.current)||void 0===r?void 0:r.parentElement})]})}),(0,C.jsxs)("div",{title:"Use ',' to separate arguments",className:"flex flex-col md:flex-row md:items-center md:gap-x-4 gap-y-2 md:gap-y-0 mb-4 md:mb-0 px-4 py-2 min-w-min",children:[(0,C.jsx)("div",{className:"font-normal text-sm w-16",children:"Argument: "}),(0,C.jsx)(E.II,{placeholder:"Use ',' to separate arguments",className:"bg-white dark:bg-black-500 w-52",value:T,onChange:e=>{M(e.target.value)}})]})]})},X=r(33685).Buffer;function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Q=Object.keys(D).map((e=>({value:e,label:e})));var ee=e=>{let{readOnly:t=!1}=e;const{settingsLoaded:n,getSetting:a,setSetting:s}=(0,l.useContext)(g.J6),i=(0,p.useRouter)(),{transactionData:d,loadInstructions:x,startExecution:S,startTransaction:T,deployedContractAddress:B,vmError:V,selectedFork:I,opcodes:_,instructions:F,resetExecution:U,onForkChange:z,areForksLoaded:H}=(0,l.useContext)(b.DB),{0:G,1:J}=(0,l.useState)(""),{0:L,1:W}=(0,l.useState)(void 0),{0:q,1:K}=(0,l.useState)(!1),{0:ee,1:te}=(0,l.useState)(),{0:re,1:ne}=(0,l.useState)(!1),{0:ae,1:se}=(0,l.useState)([{type:"info",message:`Loading Solidity compiler ${j}...`}]),le=(0,l.useRef)(null),oe=(0,l.useRef)(),ie=(0,l.useRef)(),{0:ce,1:de}=(0,l.useState)(""),{0:ue,1:me}=(0,l.useState)(""),{0:pe,1:he}=(0,l.useState)(D.Wei),{0:xe,1:fe}=(0,l.useState)(void 0),{0:be,1:ge}=(0,l.useState)(!1),{0:ye,1:ve}=(0,l.useState)(),je=(0,l.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";se((r=>{const n=r.map((e=>Y({},e)));return n.push({type:t,message:e}),n}))}),[se]),ke=(0,l.useCallback)((()=>{const e=BigInt(ue);switch(pe){case D.Gwei:return e*BigInt("1000000000");case D.Finney:return e*BigInt("1000000000000000");case D.Ether:return e*BigInt("1000000000000000000");default:return e}}),[ue,pe]),we=(0,l.useCallback)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;try{r||(r=ke());const n=await d(e+t,r);if(x(e),K(!1),!n)return;const a=await T(n);return ee===R.Solidity&&!a.error&&a.returnValue&&ve((0,m.bufferToHex)(X.from(a.returnValue))),a}catch(n){return je(n.message,"error"),void K(!1)}}),[d,ke,x,T,ee,je]),Ne=(0,l.useCallback)((e=>{const{warning:t,error:r,contracts:n}=e.data;return U(),fe(void 0),r?(je(r,"error"),void K(!1)):(t&&je(t,"warn"),je("Compilation successful"),n.length>1?(K(!1),void je("The source should contain only one contract, Please select one to deploy.","error")):(ee===R.Solidity&&fe(n[0]),void(be?K(!1):we(n[0].code,"",void 0))))}),[U,je,ee,be,we]);(0,l.useEffect)((()=>{const e=i.query;if("callValue"in e&&"unit"in e&&(me(e.callValue),he(e.unit)),"callData"in e&&de(e.callData),"codeType"in e&&"code"in e)te(e.codeType),J(JSON.parse('{"a":'+(0,o.Jx)(e.code)+"}").a);else{const e=a(g.pE.EditorCodeType)||R.Yul;te(e),J(N[e][0])}"fork"in e&&z(e.fork)}),[n,i.isReady,H]),(0,l.useEffect)((()=>(le.current=new Worker(r.tu(new URL(r.p+r.u(105),r.b))),le.current.onmessage=Ne,je("Solidity compiler loaded"),()=>{null!==le&&void 0!==le&&le.current&&le.current.terminate()})),[]),(0,l.useEffect)((()=>{null!==le&&void 0!==le&&le.current&&(le.current.onmessage=Ne)}),[le,Ne]),(0,l.useEffect)((()=>{B&&je(`Contract deployed at address: ${B}`)}),[B]),(0,l.useEffect)((()=>{V&&je(V,"error")}),[V]);const Ce=e=>e.replaceAll(/\/\/.*$/gm,"").replaceAll(/;.*$/gm,"").replaceAll(/#.*$/gm,"").replaceAll(/\s/gm,"").replace(/^0x/,""),Se=(0,l.useCallback)((()=>{var e;if((0,w.xb)(ue)||/^[0-9]+$/.test(ue))if((0,w.xb)(ce)||(0,w.Qe)(ce))try{const t=ce.substr(2),r=ke();if(ee===R.Mnemonic){const e=((e,t)=>{let r="";const n=e.split("\n");for(let a=0;a<n.length;++a){const e=n[a].replace(/\/\/.*/,"").trim().toUpperCase();if(0!==e.length)if("PUSH0"!==e&&e.startsWith("PUSH")){const n=e.split(/\s+/);if(2!==n.length)throw new Error("Expect PUSH instruction followed by a number: "+e);const a=t.find((e=>e.name===n[0]));if("undefined"===typeof a)throw new Error("Unknown mnemonic: "+n[0]);const s=parseInt(n[0].substring(4));r+=a.opcodeOrAddress+k(n[1],s)}else{const n=t.find((t=>t.name===e));if("undefined"===typeof n)throw new Error("Unknown mnemonic: "+e);r+=n.opcodeOrAddress}}return r})(G,_);x(e),S(e,r,t)}else if(ee===R.Bytecode){const e=Ce(G);if(e.length%2!==0)return void je("There should be at least 2 characters per byte","error");if(!(0,w.vq)(e))return void je("Only hexadecimal characters are allowed","error");x(e),S(e,r,t)}else K(!0),je("Starting compilation..."),null!==le&&void 0!==le&&le.current&&le.current.postMessage({language:ee,evmVersion:(e=null===I||void 0===I?void 0:I.name,"dao"===e?"homestead":"muirGlacier"===e?"berlin":e&&["arrowGlacier","grayGlacier","merge","shanghai","cancun"].includes(e)?"london":e===v.h8?"prague":e),source:G})}catch(t){je(t.message,"error")}else je("Calldata should be a hexadecimal string with 2 digits per byte","error");else je("Callvalue should be a positive integer","error")}),[G,ee,_,I,ce,ue,x,je,S,ke]),Oe=(0,l.useCallback)((()=>{const e={fork:null===I||void 0===I?void 0:I.name,callValue:ue,unit:pe,callData:ce,codeType:ee,code:encodeURIComponent((0,o.cv)(JSON.stringify(G)))};u()(`${(0,y.C)("/playground")}?${(0,w.O)(e)}`),je("Link to current fork, code, calldata and value copied to clipboard")}),[I,ue,pe,ce,ee,G,je]),Ee=(0,l.useMemo)((()=>q||(0,w.xb)(G)),[q,G]),Pe=(0,l.useMemo)((()=>ee===R.Bytecode),[ee]),Te=(0,l.useMemo)((()=>ee===R.Mnemonic||ee===R.Bytecode),[ee]),Me=(0,l.useMemo)((()=>ee===R.Solidity&&be),[ee,be]),Be=(0,l.useMemo)((()=>({value:pe,label:pe})),[pe]);return(0,C.jsxs)("div",{className:"bg-gray-100 dark:bg-black-700 rounded-lg",children:[(0,C.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,C.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,C.jsx)("div",{className:"border-b border-gray-200 dark:border-black-500 flex items-center pl-6 pr-2 h-14 md:border-r",children:(0,C.jsx)($,{onCodeTypeChange:e=>{var t;const{value:r}=e;if(te(r),s(g.pE.EditorCodeType,r),fe(void 0),ve(void 0),ge(!1),!re&&ee)J(N[r][0]);else if(r&&r===R.Mnemonic&&(null===F||void 0===F?void 0:F.length)>0){const e=(e=>0===e.length?"":e.map((e=>`${e.name}${e.value?" 0x"+e.value:""}`)).join("\n"))(F);J(e)}else if(r&&r===R.Bytecode&&(null===F||void 0===F?void 0:F.length)>0){const e=((e,t)=>{if(0===e.length)return"";const r={};return t.forEach((e=>{r[e.name]=e.opcodeOrAddress})),e.map((e=>`${r[e.name]}${e.value||""}`)).join("")})(F,_);J(e)}if(null!==ie&&void 0!==ie&&null!==(t=ie.current)&&void 0!==t&&t._input){var n;const e=null===ie||void 0===ie||null===(n=ie.current)||void 0===n?void 0:n._input;e.focus(),e.select()}},codeType:ee})}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"relative pane pane-light overflow-auto md:border-r bg-gray-50 dark:bg-black-600 border-gray-200 dark:border-black-500",style:{height:350},children:(0,C.jsx)(f(),{ref:ie,value:G,readOnly:t,onValueChange:e=>{J(e),ne(!0);try{if(ee===R.Bytecode){const t=Ce(e);L&&(clearTimeout(L),W(void 0)),W(setTimeout((()=>{var e;(e=t).length%2===0?(0,w.vq)(e)||je("Only hexadecimal characters are allowed","error"):je("There should be at least 2 characters per byte","error")}),1e3)),x(t)}}catch(t){je(t.message,"error")}},highlight:e=>ee?ee===R.Bytecode?(0,w.KO)(e,ee).value:(0,w.KO)(e,ee).value.split("\n").map(((e,t)=>`<span class='line-number'>${t+1}</span>${e}`)).join("\n"):e,tabSize:4,className:c()("code-editor",{"with-numbers":!Pe})})}),(0,C.jsx)(l.Fragment,{children:!Me&&(0,C.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between px-4 py-4 md:py-2 md:border-r border-gray-200 dark:border-black-500",children:[(0,C.jsxs)("div",{className:"flex flex-col md:flex-row md:gap-x-4 gap-y-2 md:gap-y-0 mb-4 md:mb-0",children:[Te&&(0,C.jsx)(E.II,{placeholder:"Calldata in HEX",className:"bg-white dark:bg-black-500",value:ce,onChange:e=>de(e.target.value)}),(0,C.jsx)(E.II,{type:"number",step:"1",placeholder:"Value to send",className:"bg-white dark:bg-black-500",value:ue,onChange:e=>me(e.target.value)}),(0,C.jsx)(h.ZP,{onChange:e=>he(e.value),options:Q,value:Be,isSearchable:!1,classNamePrefix:"select",menuPlacement:"auto"}),(0,C.jsx)(E.zx,{onClick:Oe,transparent:!0,padded:!1,children:(0,C.jsx)("span",{className:"inline-block mr-4 select-all","data-tooltip-content":"Share permalink",children:(0,C.jsx)(E.JO,{name:"links-line",className:"text-indigo-500 mr-1"})})})]}),(0,C.jsxs)("div",{children:[(0,C.jsx)(l.Fragment,{children:ee===R.Solidity&&(0,C.jsx)(E.zx,{onClick:()=>ge(!be),tooltip:"Please run your contract first.",transparent:!0,padded:!1,children:(0,C.jsx)("span",{className:"inline-block mr-4 text-indigo-500",children:"Advance Mode"})})}),(0,C.jsx)(E.zx,{onClick:Se,disabled:Ee,size:"sm",contentClassName:"justify-center",children:"Run"})]})]})}),(0,C.jsx)(Z,{log:je,selectedContract:xe,handleCompile:Se,setShowSimpleMode:()=>ge(!1),show:Me,deployByteCode:we,callValue:ue,setCallValue:me,setUnit:he,unitValue:pe,getCallValue:ke,methodByteCode:ye,handleCopyPermalink:Oe})]})]}),(0,C.jsxs)("div",{className:"w-full md:w-1/2",children:[(0,C.jsx)("div",{className:"border-t md:border-t-0 border-b border-gray-200 dark:border-black-500 flex items-center pl-4 pr-6 h-14",children:(0,C.jsx)(A,{})}),(0,C.jsx)("div",{className:"pane pane-light overflow-auto bg-gray-50 dark:bg-black-600 h-full",ref:oe,style:{height:be?506:402},children:(0,C.jsx)(O,{containerRef:oe})})]})]}),(0,C.jsxs)("div",{className:"flex flex-col md:flex-row-reverse",children:[(0,C.jsx)("div",{className:"w-full md:w-1/2",children:(0,C.jsx)("div",{className:"pane pane-dark overflow-auto border-t border-black-900/25 bg-gray-800 dark:bg-black-700 text-white px-4 py-3",style:{height:350},children:(0,C.jsx)(M,{})})}),(0,C.jsx)("div",{className:"w-full md:w-1/2",children:(0,C.jsx)("div",{className:"pane pane-dark overflow-auto bg-gray-800 dark:bg-black-700 text-white border-t border-black-900/25 md:border-r",style:{height:350},children:(0,C.jsx)(P,{output:ae})})})]}),(0,C.jsxs)("div",{className:"rounded-b-lg py-2 px-4 border-t bg-gray-800 dark:bg-black-700 border-black-900/25 text-gray-400 dark:text-gray-600 text-xs",children:["Solidity Compiler ",j]})]})},te=r(69264);const re=()=>(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(a(),{children:[(0,C.jsx)("meta",{property:"og:type",content:"website"}),(0,C.jsx)("title",{children:"EVM Codes - Playground"}),(0,C.jsx)("meta",{name:"description",content:"EVM Codes\u2019 Playground is an interactive tool for learning how to use opcodes, the stack behind smart contracts."})]}),(0,C.jsx)(E.W2,{children:(0,C.jsx)(ee,{})})]});re.getLayout=function(e){return(0,C.jsx)(te.Z,{children:e})};var ne=re},70416:function(e,t,r){"use strict";r.d(t,{C:function(){return a},V:function(){return n}});const n=navigator.userAgent.toUpperCase().indexOf("MAC")>=0,a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t="https://www.evm.codes";return t+e}},72842:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/playground",function(){return r(71273)}])}},function(e){e.O(0,[218,226,774,888,179],(function(){return t=72842,e(e.s=t);var t}));var t=e.O();_N_E=t}]);